(this.webpackJsonpsweep=this.webpackJsonpsweep||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(6),o=a.n(i),l=a(1),c=a(3),u=a(2),s=(a(14),a(15),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).render=function(){var t=e.props,a=t.difficulty,n=t.changeGameDifficulty,i=t.resetGame;return r.a.createElement("form",{className:"game-controls"},r.a.createElement("select",{className:"game-difficulty",value:a,onChange:n},r.a.createElement("option",{value:"easy"},"EASY"),r.a.createElement("option",{value:"medium"},"MEDIUM"),r.a.createElement("option",{value:"hard"},"HARD")),r.a.createElement("button",{className:"game-reset",onClick:i},"RESET"))},e}return a}(r.a.Component)),m=a(4),d=a(8),f=a(7),p=(a(16),a(17),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).evaluateCellClass=function(){return["cell","cell-revealed",e.props.isMine?"cell-mine":"cell-value-".concat(e.props.mineCount)].join(" ")},e.evaluteCellContent=function(){return e.props.isMine?"M":e.props.mineCount>0?e.props.mineCount:""},e.render=function(){return r.a.createElement("div",{className:e.evaluateCellClass()},e.evaluteCellContent())},e}return a}(r.a.Component)),v=(a(18),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onClickHandler=function(t){t.preventDefault();var a=e.props,n=a.x,r=a.y,i=a.isFlagged,o=a.toggleFlagCell,l=a.revealCell;"contextmenu"===t.type?o(n,r):"click"!==t.type||i||l(n,r)},e.evaluateCellClass=function(){return["cell","cell-hidden",e.props.isFlagged?"cell-flagged":""].join(" ")},e.evaluteCellContent=function(){return e.props.isFlagged?"X":""},e.render=function(){return r.a.createElement("div",{className:e.evaluateCellClass(),onClick:e.onClickHandler,onContextMenu:e.onClickHandler},e.evaluteCellContent())},e}return a}(r.a.Component)),h="GAME OVER",g="CONTINUE",C="WIN",y={easy:{height:15,width:15,mineCount:20},medium:{height:25,width:25,mineCount:75},hard:{height:30,width:60,mineCount:250}},b=function(e){return[Math.floor(e/60).toString().padStart(2,"0"),(e%60).toString().padStart(2,"0")].join(":")},E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).revealCell=function(e,t){var a=n.props,r=a.height,i=a.width,o=function e(t,a,n){return t[a][n].isRevealed?t:(t[a][n].isRevealed=!0,t[a][n].mineCount>0||t[a][n].isMine||(a>0&&n>0&&(t=e(t,a-1,n-1)),a>0&&(t=e(t,a-1,n)),a>0&&n<r-1&&(t=e(t,a-1,n+1)),n>0&&(t=e(t,a,n-1)),a<i-1&&(t=e(t,a+1,n)),a<i-1&&n>0&&(t=e(t,a+1,n-1)),n<r-1&&(t=e(t,a,n+1)),a<i-1&&n<r-1&&(t=e(t,a+1,n+1))),t)}(n.state.matrix,e,t);n.setState({matrix:o}),n.props.emitBoardState(n.evaluateBoardState())},n.toggleFlagCell=function(e,t){n.state.matrix[e][t].isRevealed||n.setState({matrix:n.state.matrix.map((function(a){return a.map((function(a){return Object(d.a)({},a,{isFlagged:a.x===e&&a.y===t?!a.isFlagged:a.isFlagged})}))}))})},n.evaluateBoardState=function(){var e=n.props,t=e.height,a=e.width,r=e.mineCount,i=n.state,o=i.matrix;return i.minePositions.some((function(e){var t=e.x,a=e.y;return o[t][a].isRevealed&&o[t][a].isMine}))?h:t*a-r===o.reduce((function(e,t){return e+t.reduce((function(e,t){return e+t.isRevealed}),0)}),0)?C:g},n.render=function(){return r.a.createElement("div",{className:"board"},n.state.matrix.map((function(e){return r.a.createElement("div",{className:"column",key:Math.random()},e.map((function(e){return e.isRevealed?r.a.createElement(p,{key:Math.random(),isMine:e.isMine,mineCount:e.mineCount}):r.a.createElement(v,{key:Math.random(),x:e.x,y:e.y,isFlagged:e.isFlagged,revealCell:n.revealCell,toggleFlagCell:n.toggleFlagCell})})))})))},n.state=n.initializeBoard(e),n}return Object(f.a)(a,[{key:"initializeBoard",value:function(e){for(var t=e.width,a=e.height,n=e.mineCount,r=Object(m.a)(Array(t).keys()).map((function(e){return Object(m.a)(Array(a).keys()).map((function(t){return{x:e,y:t,isMine:!1,mineCount:0,isRevealed:!1,isFlagged:!1}}))})),i=new Set;i.size<n;)i.add(JSON.stringify({x:Math.round(Math.random()*(t-1)),y:Math.round(Math.random()*(a-1))}));var o=Object(m.a)(i).map(JSON.parse);return o.forEach((function(e){var n=e.x,i=e.y;n>0&&i>0&&(r[n-1][i-1].isMine||r[n-1][i-1].mineCount++),n>0&&(r[n-1][i].isMine||r[n-1][i].mineCount++),n>0&&i<a-1&&(r[n-1][i+1].isMine||r[n-1][i+1].mineCount++),i>0&&(r[n][i-1].isMine||r[n][i-1].mineCount++),r[n][i].isMine=!0,i<a-1&&(r[n][i+1].isMine||r[n][i+1].mineCount++),n<t-1&&i>0&&(r[n+1][i-1].isMine||r[n+1][i-1].mineCount++),n<t-1&&(r[n+1][i].isMine||r[n+1][i].mineCount++),n<t-1&&i<a-1&&(r[n+1][i+1].isMine||r[n+1][i+1].mineCount++)})),{minePositions:o,matrix:r}}},{key:"componentDidUpdate",value:function(e){e.id!==this.props.id&&this.setState(this.initializeBoard(this.props))}}]),a}(r.a.Component),M=(a(19),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).render=function(){var t=e.props,a=t.boardState,n=t.timerValue,i=t.resetGame;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"game-end-background"}),r.a.createElement("form",{className:"game-end-alert"},a===C?"You won!":"Game over.",r.a.createElement("br",null),"Game time: ",b(n),r.a.createElement("button",{className:"game-end-acknowledgement",onClick:i},"RESET")))},e}return a}(r.a.Component)),S=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).startTimer=function(){n.setState({timerLoop:setInterval((function(){return n.setState({timer:n.state.timer+1})}),1e3)})},n.stopTimer=function(){clearInterval(n.state.timerLoop),n.setState({timerLoop:void 0})},n.changeGameDifficulty=function(e){n.stopTimer(),n.setState({difficulty:e.target.value,boardId:Math.random(),boardState:g,timer:0})},n.resetGame=function(e){e.preventDefault(),n.stopTimer(),n.setState({boardId:Math.random(),boardState:g,timer:0})},n.respondToBoardState=function(e){e!==g?n.stopTimer():void 0===n.state.timerLoop&&n.startTimer(),n.setState({boardState:e})},n.render=function(){var e=n.state,t=e.difficulty,a=e.boardId,i=e.boardState,o=e.timer,l=y[t],c=l.height,u=l.width,m=l.mineCount;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"game-timer"},b(o)),r.a.createElement(s,{difficulty:t,changeGameDifficulty:n.changeGameDifficulty,resetGame:n.resetGame}),r.a.createElement(E,{id:a,height:c,width:u,mineCount:m,emitBoardState:n.respondToBoardState}),i!==g&&r.a.createElement(M,{boardState:i,timerValue:o,resetGame:n.resetGame}))},n.state={difficulty:"medium",boardId:Math.random(),boardState:g,timer:0,timerLoop:void 0},n}return a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.5caebe0e.chunk.js.map