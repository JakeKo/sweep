(this.webpackJsonpsweep=this.webpackJsonpsweep||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(7),o=n.n(r),l=n(4),u=n(1),c=n(3),s=n(2),m=(n(14),n(5)),d=n(8),h=(n(15),n(16),function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).evaluateCellClass=function(){return["cell",e.props.isMine?"cell-mine":"cell-value-".concat(e.props.mineCount)].join(" ")},e.evaluteCellContent=function(){return e.props.isMine?"M":e.props.mineCount>0?e.props.mineCount:""},e.render=function(){return i.a.createElement("div",{className:e.evaluateCellClass()},e.evaluteCellContent())},e}return n}(i.a.Component)),C=(n(17),function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickHandler=function(t){t.preventDefault();var n=e.props,a=n.x,i=n.y,r=n.isFlagged,o=n.toggleFlagCell,l=n.revealCell;"contextmenu"===t.type?o(a,i):"click"!==t.type||r||l(a,i)},e.evaluateCellClass=function(){return["cell","cell-hidden",e.props.isFlagged?"cell-flagged":""].join(" ")},e.evaluteCellContent=function(){return e.props.isFlagged?"X":""},e.render=function(){return i.a.createElement("div",{className:e.evaluateCellClass(),onClick:e.onClickHandler,onContextMenu:e.onClickHandler},e.evaluteCellContent())},e}return n}(i.a.Component)),v="GAME OVER",p="CONTINUE",f="WIN",g=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).revealCell=function(e,t){var n=a.props,i=n.height,r=n.width,o=function e(t,n,a){return t[n][a].isRevealed?t:(t[n][a].isRevealed=!0,t[n][a].mineCount>0||t[n][a].isMine||(n>0&&a>0&&(t=e(t,n-1,a-1)),n>0&&(t=e(t,n-1,a)),n>0&&a<i-1&&(t=e(t,n-1,a+1)),a>0&&(t=e(t,n,a-1)),n<r-1&&(t=e(t,n+1,a)),n<r-1&&a>0&&(t=e(t,n+1,a-1)),a<i-1&&(t=e(t,n,a+1)),n<r-1&&a<i-1&&(t=e(t,n+1,a+1))),t)}(a.state.matrix,e,t);a.setState({matrix:o}),console.log(a.evaluateBoardState())},a.toggleFlagCell=function(e,t){a.state.matrix[e][t].isRevealed||a.setState({matrix:a.state.matrix.map((function(n){return n.map((function(n){return Object(l.a)({},n,{isFlagged:n.x===e&&n.y===t?!n.isFlagged:n.isFlagged})}))}))})},a.evaluateBoardState=function(){var e=a.props,t=e.height,n=e.width,i=e.mineCount,r=a.state,o=r.matrix;return r.minePositions.some((function(e){var t=e.x,n=e.y;return o[t][n].isRevealed&&o[t][n].isMine}))?v:t*n-i===o.reduce((function(e,t){return e+t.reduce((function(e,t){return e+t.isMine?0:1}),0)}),0)?f:p},a.render=function(){return i.a.createElement("div",{className:"board"},a.state.matrix.map((function(e){return i.a.createElement("div",{className:"column",key:Math.random()},e.map((function(e){return e.isRevealed?i.a.createElement(h,{key:Math.random(),isMine:e.isMine,mineCount:e.mineCount}):i.a.createElement(C,{key:Math.random(),x:e.x,y:e.y,isFlagged:e.isFlagged,revealCell:a.revealCell,toggleFlagCell:a.toggleFlagCell})})))})))},a.state=a.initializeBoard(e),a}return Object(d.a)(n,[{key:"initializeBoard",value:function(e){for(var t=e.width,n=e.height,a=e.mineCount,i=Object(m.a)(Array(t).keys()).map((function(e){return Object(m.a)(Array(n).keys()).map((function(t){return{x:e,y:t,isMine:!1,mineCount:0,isRevealed:!1,isFlagged:!1}}))})),r=new Set;r.size<a;)r.add(JSON.stringify({x:Math.round(Math.random()*(t-1)),y:Math.round(Math.random()*(n-1))}));var o=Object(m.a)(r).map(JSON.parse);return o.forEach((function(e){var a=e.x,r=e.y;a>0&&r>0&&(i[a-1][r-1].isMine||i[a-1][r-1].mineCount++),a>0&&(i[a-1][r].isMine||i[a-1][r].mineCount++),a>0&&r<n-1&&(i[a-1][r+1].isMine||i[a-1][r+1].mineCount++),r>0&&(i[a][r-1].isMine||i[a][r-1].mineCount++),i[a][r].isMine=!0,r<n-1&&(i[a][r+1].isMine||i[a][r+1].mineCount++),a<t-1&&r>0&&(i[a+1][r-1].isMine||i[a+1][r-1].mineCount++),a<t-1&&(i[a+1][r].isMine||i[a+1][r].mineCount++),a<t-1&&r<n-1&&(i[a+1][r+1].isMine||i[a+1][r+1].mineCount++)})),{minePositions:o,matrix:i}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.height,a=t.width,i=t.mineCount;e.height===n&&e.width===a&&e.mineCount===i||this.setState(this.initializeBoard(this.props))}}]),n}(i.a.Component),y={easy:{height:15,width:15,mineCount:30},medium:{height:25,width:25,mineCount:50},hard:{height:30,width:60,mineCount:200}},M=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onChangeHandler=function(e){a.setState({difficulty:e.target.value,board:Object(l.a)({},y[e.target.value])})},a.render=function(){var e=a.state.difficulty,t=y[e],n=t.height,r=t.width,o=t.mineCount;return i.a.createElement("div",{className:"app"},i.a.createElement("form",null,i.a.createElement("select",{value:e,onChange:a.onChangeHandler},i.a.createElement("option",{value:"easy"},"Easy"),i.a.createElement("option",{value:"medium"},"Medium"),i.a.createElement("option",{value:"hard"},"Hard"))),i.a.createElement(g,{height:n,width:r,mineCount:o}))},a.state={difficulty:"medium",board:y.medium},a}return n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.30c5bb82.chunk.js.map